name: ci/cd workflow test2

on:
 push:
   branches:
     - main
jobs:
 tests:
   runs-on: ubuntu-latest
   services:
      mysql:
        image: mysql:5.7
        env:
          MYSQL_ROOT_PASSWORD: password
        ports:
          - 33060:3306
        options: --health-cmd="mysqladmin ping" --health-interval=10s --health-timeout=5s --health-retries=3
   strategy:
     matrix:
       php: [7.4]
   name: Test - PHP ${{ matrix.php }}
   steps:
     - name: Checkout code
       uses: actions/checkout@v3
     - name: Cache PHP dependencies
       uses: actions/cache@v3
       with:
         path: vendor
         key: dependencies-php-${{ matrix.php }}-composer-${{ hashFiles('**/composer.lock') }}
     - name: Setup PHP
       uses: shivammathur/setup-php@v2
       with:
         php-version: ${{ matrix.php }}
         extensions: dom, curl, libxml, mbstring, zip, pcntl, pdo, sqlite, pdo_sqlite, gd
         coverage: none

